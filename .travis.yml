sudo: required
language: ruby
cache: bundler
matrix:
  include:
  - rvm: 2.3.1
    env: &mysql_env
    - DB=mysql
    - CONN_STR='DRIVER=MySQL;SERVER=localhost;DATABASE=odbc_test;USER=root;PASSWORD=;'
    addons: &mysql_addons
      mysql: "5.5"
      apt:
        packages:
        - unixodbc
        - unixodbc-dev
        - libmyodbc
        - mysql-client
    gemfile: gemfiles/rails3_2.gemfile
  - rvm: 2.3.1
    env: &postgres_env
    - DB=postgresql
    - CONN_STR='DRIVER={PostgreSQL ANSI};SERVER=localhost;PORT=5432;DATABASE=odbc_test;UID=postgres;'
    addons: &postgres_addons
      postgresql: "9.1"
      apt:
        packages:
        - unixodbc
        - unixodbc-dev
        - odbc-postgresql
    gemfile: gemfiles/rails3_2.gemfile
before_script: bin/ci-setup
